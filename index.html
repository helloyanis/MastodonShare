<!DOCTYPE html>
<html lang="en" class="mdui-theme-auto">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MastodonShare</title>
    <link rel="icon" type="image/png" href="assets/mastodonshare.png" />

    <!--MDUI files (theming library)-->
    <link rel="stylesheet" href="libraries/mdui.css" />
    <script src="libraries/mdui.js"></script>

    <!--Client side scripts-->
    <script src="script.js"></script>

    <!--CSS-->
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <mdui-top-app-bar id="appbar">
        <mdui-top-app-bar-title>
            <a href="/">MastodonShare</a>
        </mdui-top-app-bar-title>
    </mdui-top-app-bar>
    <section id="nojs">
        <img src="assets/mastodonshare.png" alt="MastodonShare Logo" id="logo" width="100" height="100" />
        Please enable JavaScript to view this page.
    </section>
    <section id="home" class="hidden">
        <a href="/">
            <img src="assets/mastodonshare.png" alt="MastodonShare Logo" id="logo" width="100" height="100" />
        </a>
        <h1>Welcome to MastodonShare</h1>
        <mdui-card class="flex" variant="filled">
            <h3>Set your Mastodon instance :</h3>
            <mdui-text-field variant="outlined" id="current-instance" disabled label="Your Mastodon instance"
                placeholder="yourinstance.social" clearable>
                <span slot="prefix">https://</span>
            </mdui-text-field>
            <mdui-checkbox id="skip-confirm-checkbox">Skip confirmation when redirecting</mdui-checkbox>
        </mdui-card>

        <mdui-card class="flex" variant="filled">
            <h3>Create a shareable link :</h3>
            <mdui-text-field rows=3 id="message-body" variant="outlined" disabled
                label="Your message"></mdui-text-field>
            </mdui-text-field>
            <mdui-button id="copy-share-link" disabled>
                <mdui-icon slot="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                        <path
                            d="M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z" />
                    </svg>
                </mdui-icon>
                Copy link
            </mdui-button>
        </mdui-card>
        <mdui-card class="flex" variant="filled">
            <h3>How to use MastodonShare</h3>
            <p>Sharing content in Mastodon can be difficult because people use many domains and apps, and you don't know
                where to link. <b>MastodonShare allows your visitors to share content in their Mastodon instances</b>,
                without the need to use browser extensions or apps.<br><br>MastodonShare will ask for their Mastodon
                instance and redirect them right to share the content. It will store the instance locally, so they will
                not be asked again.</p>
        </mdui-card>
        <mdui-card class="flex" variant="filled">
            <h3>More information</h3>
            <p>MastodonShare is 100% private, 100% free, and 100% secure. It does track anything and only stores your
                instance name on your PC. It does not require Mastodon API access.<br><br>
                If you have any questions, please ask
                <mdui-dropdown>
                    <u class="contact" slot="trigger">Alex Barredo</u>
                    <mdui-menu>
                        <mdui-menu-item href="https://mastodon.social/@Barredo" rel="me">
                            <mdui-icon slot="icon">
                                <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M23.268 5.313c-.35-2.578-2.617-4.61-5.304-5.004C17.51.242 15.792 0 11.813 0h-.03c-3.98 0-4.835.242-5.288.309C3.882.692 1.496 2.518.917 5.127.64 6.412.61 7.837.661 9.143c.074 1.874.088 3.745.26 5.611.118 1.24.325 2.47.62 3.68.55 2.237 2.777 4.098 4.96 4.857 2.336.792 4.849.923 7.256.38.265-.061.527-.132.786-.213.585-.184 1.27-.39 1.774-.753a.057.057 0 0 0 .023-.043v-1.809a.052.052 0 0 0-.02-.041.053.053 0 0 0-.046-.01 20.282 20.282 0 0 1-4.709.545c-2.73 0-3.463-1.284-3.674-1.818a5.593 5.593 0 0 1-.319-1.433.053.053 0 0 1 .066-.054c1.517.363 3.072.546 4.632.546.376 0 .75 0 1.125-.01 1.57-.044 3.224-.124 4.768-.422.038-.008.077-.015.11-.024 2.435-.464 4.753-1.92 4.989-5.604.008-.145.03-1.52.03-1.67.002-.512.167-3.63-.024-5.545zm-3.748 9.195h-2.561V8.29c0-1.309-.55-1.976-1.67-1.976-1.23 0-1.846.79-1.846 2.35v3.403h-2.546V8.663c0-1.56-.617-2.35-1.848-2.35-1.112 0-1.668.668-1.67 1.977v6.218H4.822V8.102c0-1.31.337-2.35 1.011-3.12.696-.77 1.608-1.164 2.74-1.164 1.311 0 2.302.5 2.962 1.498l.638 1.06.638-1.06c.66-.999 1.65-1.498 2.96-1.498 1.13 0 2.043.395 2.74 1.164.675.77 1.012 1.81 1.012 3.12z" />
                                </svg>
                            </mdui-icon>
                            On Mastodon
                        </mdui-menu-item>
                        <mdui-menu-item href="mailto:alex@barredo.es" rel="me">
                            <mdui-icon slot="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                    <path
                                        d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480v58q0 59-40.5 100.5T740-280q-35 0-66-15t-52-43q-29 29-65.5 43.5T480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480v58q0 26 17 44t43 18q26 0 43-18t17-44v-58q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93h200v80H480Zm0-280q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z" />
                                </svg>
                            </mdui-icon>
                            Via Email
                        </mdui-menu-item>
                    </mdui-menu>
                </mdui-dropdown> or <mdui-dropdown>
                    <u class="contact" slot="trigger">helloyanis</u>
                    <mdui-menu>
                        <mdui-menu-item href="https://furries.club/@helloyanis" rel="me">
                            <mdui-icon slot="icon">
                                <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M23.268 5.313c-.35-2.578-2.617-4.61-5.304-5.004C17.51.242 15.792 0 11.813 0h-.03c-3.98 0-4.835.242-5.288.309C3.882.692 1.496 2.518.917 5.127.64 6.412.61 7.837.661 9.143c.074 1.874.088 3.745.26 5.611.118 1.24.325 2.47.62 3.68.55 2.237 2.777 4.098 4.96 4.857 2.336.792 4.849.923 7.256.38.265-.061.527-.132.786-.213.585-.184 1.27-.39 1.774-.753a.057.057 0 0 0 .023-.043v-1.809a.052.052 0 0 0-.02-.041.053.053 0 0 0-.046-.01 20.282 20.282 0 0 1-4.709.545c-2.73 0-3.463-1.284-3.674-1.818a5.593 5.593 0 0 1-.319-1.433.053.053 0 0 1 .066-.054c1.517.363 3.072.546 4.632.546.376 0 .75 0 1.125-.01 1.57-.044 3.224-.124 4.768-.422.038-.008.077-.015.11-.024 2.435-.464 4.753-1.92 4.989-5.604.008-.145.03-1.52.03-1.67.002-.512.167-3.63-.024-5.545zm-3.748 9.195h-2.561V8.29c0-1.309-.55-1.976-1.67-1.976-1.23 0-1.846.79-1.846 2.35v3.403h-2.546V8.663c0-1.56-.617-2.35-1.848-2.35-1.112 0-1.668.668-1.67 1.977v6.218H4.822V8.102c0-1.31.337-2.35 1.011-3.12.696-.77 1.608-1.164 2.74-1.164 1.311 0 2.302.5 2.962 1.498l.638 1.06.638-1.06c.66-.999 1.65-1.498 2.96-1.498 1.13 0 2.043.395 2.74 1.164.675.77 1.012 1.81 1.012 3.12z" />
                                </svg>
                            </mdui-icon>
                            On Mastodon
                        </mdui-menu-item>
                        <mdui-menu-item href="mailto:hello@xn--3s8h30f.ws" rel="me">
                            <mdui-icon slot="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                    <path
                                        d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480v58q0 59-40.5 100.5T740-280q-35 0-66-15t-52-43q-29 29-65.5 43.5T480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480v58q0 26 17 44t43 18q26 0 43-18t17-44v-58q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93h200v80H480Zm0-280q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z" />
                                </svg>
                            </mdui-icon>
                            Via Email
                        </mdui-menu-item>
                    </mdui-menu>
                </mdui-dropdown>.
            </p>
        </mdui-card>
    </section>
    <section id="redirect" class="hidden">
        <a href="/">
            <img src="assets/mastodonshare.png" alt="MastodonShare Logo" id="logo" width="100" height="100" />
        </a>
        <mdui-card class="flex" variant="filled">
            <h3 id="sharing-instance">You're about to share this on Mastodon :</h3>
            <mdui-card id="sharing-body"></mdui-card>
        </mdui-card>
        <mdui-card id="sharing-instance-form" class="flex hidden" variant="filled">
            <h3>Set your Mastodon instance :</h3>
            <div>You should only have to do this once. If you see this again, make sure that your browser is set to
                remember cookies when closed.</div>
            <mdui-text-field variant="outlined" id="sharing-current-instance" label="Your Mastodon instance"
                placeholder="yourinstance.social" clearable>
                <span slot="prefix">https://</span>
            </mdui-text-field>
            <mdui-button id="set-sharing-instance">
                <mdui-icon slot="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                        <path
                            d="M840-680v480q0 33-23.5 56.5T760-120H200q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h480l160 160Zm-80 34L646-760H200v560h560v-446ZM480-240q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35ZM240-560h360v-160H240v160Zm-40-86v446-560 114Z" />
                    </svg>
                </mdui-icon>
                Save instance
            </mdui-button>
        </mdui-card>
        <mdui-card class="flex" variant="filled" id="sharing-instance-options">
            <h3>What do you want to do?</h3>
            <mdui-segmented-button-group full-width>
                <mdui-segmented-button id="change-instance">
                    <mdui-icon slot="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z" />
                        </svg>
                    </mdui-icon>
                    Change my instance
                </mdui-segmented-button>
                <mdui-segmented-button id="go-to-instance-button" variant="flled">
                    <mdui-icon slot="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M280-360v-240q0-33 23.5-56.5T360-680h326L583-783l57-57 200 200-200 200-57-56 103-104H360v240h-80Zm-80 240q-33 0-56.5-23.5T120-200v-600h80v600h480v-160h80v160q0 33-23.5 56.5T680-120H200Z" />
                        </svg>
                    </mdui-icon>
                    <span id="go-to-instance-text">Go to my instance</span>
                </mdui-segmented-button>
            </mdui-segmented-button-group>
            <mdui-checkbox id="skip-confirm-checkbox-sharing">Skip this page next time</mdui-checkbox>
        </mdui-card>
    </section>
</body>

</html>